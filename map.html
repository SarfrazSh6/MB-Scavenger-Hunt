<!doctype html>
</div>
</div>


<div id="clue" class="modal-backdrop hidden">
<div class="modal">
<h3 id="clueTitle">Clue</h3>
<p id="clueText"></p>
<input id="codeInput" placeholder="Enter code" style="width:100%;padding:10px;border-radius:6px;margin:10px 0">
<div id="incorrect" style="color:#ff5c5c;font-weight:700;display:none">Incorrect code</div>
<button class="btn primary" onclick="submitCode()">Submit</button>
<button class="btn secondary" onclick="closeClue()" style="margin-left:6px">Close</button>
</div>
</div>


<div id="mapStage" style="background-image:url('campus map.jpg')">
<div class="marker" data-id="1" data-x="22" data-y="32" data-code="B1A9">1</div>
<div class="marker" data-id="2" data-x="44" data-y="24" data-code="K9X2">2</div>
<div class="marker" data-id="3" data-x="62" data-y="55" data-code="Z7Q3">3</div>
<div class="marker" data-id="4" data-x="78" data-y="44" data-code="P0L8">4</div>
</div>


<script>
let solved = new Set();
let active = null;


function hideWelcome(){ document.getElementById('welcome').classList.add('hidden'); }
function closeClue(){ document.getElementById('clue').classList.add('hidden'); }


function submitCode(){
let input = document.getElementById('codeInput').value.trim().toUpperCase();
let expected = active.dataset.code;


if(input === expected){
active.classList.add('correct');
solved.add(active.dataset.id);
closeClue();
if(solved.size === document.querySelectorAll('.marker').length){
document.getElementById('success').classList.remove('hidden');
}
} else {
let err = document.getElementById('incorrect');
err.style.display = 'block';
setTimeout(()=> err.style.display='none', 5000);
}
}


document.querySelectorAll('.marker').forEach(btn => {
btn.style.left = btn.dataset.x + '%';
btn.style.top = btn.dataset.y + '%';


btn.addEventListener('click', () => {
active = btn;
document.getElementById('clueTitle').textContent = 'Clue ' + btn.dataset.id;
document.getElementById('clueText').textContent = 'Go to this location and scan the QR code to get your secret code.';
document.getElementById('codeInput').value = '';
document.getElementById('incorrect').style.display='none';
document.getElementById('clue').classList.remove('hidden');
});
});
</script>
</body>
</html>
